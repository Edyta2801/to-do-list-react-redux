(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(t,e,n){t.exports=n(416)},206:function(t,e,n){},416:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(12),u=n.n(o),i=(n(206),n(191)),c=n(192),s=n(199),l=n(193),d=n(200),f=n(29),g=n(73),h=n(195),p=n.n(h),m=n(30),k=n(198),E=n(57),O=n.n(E);O.a.initializeApp({apiKey:"AIzaSyAvGPg_0ivhf98-HztJQtAJy3FVaUN_u2w",authDomain:"todo-list-a6e8e.firebaseapp.com",databaseURL:"https://todo-list-a6e8e.firebaseio.com",projectId:"todo-list-a6e8e",storageBucket:"todo-list-a6e8e.appspot.com",messagingSenderId:"16464590013"});var b=O.a.auth(),v=O.a.database(),y=new O.a.auth.GoogleAuthProvider,I="todolist/INIT",x="todolist/ADD",j="todolist/DEL",L=function(t){return{type:"todolist/NEW_TEXT",text:t}},T=function(t){return{type:j,index:t}},w=function(){return function(t,e){var n=e();!0===n.auth.isUserLoggedIn&&v.ref("users/".concat(n.auth.user.uid,"/tasks")).on("value",function(e){return t((a=e.val(),n=Object.entries(a||{}).map(function(t){var e=Object(k.a)(t,2),n=e[0],a=e[1];return"object"===typeof a?Object(m.a)({},a,{key:n}):{key:n,value:a}}),{type:I,tasks:n}));var n,a})}},_=function(){return function(t,e){var n=e();v.ref("users/".concat(n.auth.user.uid,"/tasks")).set(n.todolist.tasks)}},G=function(){return function(t,e){var n=e();v.ref("users/".concat(n.auth.user.uid,"/tasks")).push({text:n.todolist.text})}},D={tasks:[{text:"",key:""}],text:""};var U=Object(f.b)(function(t){return{text:t.todolist.text,tasks:t.todolist.tasks}},function(t){return{delTask:function(e){t(T(e)),t(_())},addTask:function(){return t(G())},taskText:function(e,n){return t(L(n))},updateAfterRemove:function(){return t(_())}}})(function(t){return r.a.createElement("div",null,r.a.createElement(g.c,{onChange:t.taskText,value:t.text,fullWidth:!0,placeholder:"New Task",name:"new-task"}),r.a.createElement(g.b,{onClick:t.addTask,primary:!0,label:"Add task",fullWidth:!0,disabled:!t.text}),t.tasks.map(function(e,n,a){return r.a.createElement(g.a,{primaryText:e.text,rightIcon:r.a.createElement(p.a,{onClick:function(){return t.delTask(n)}})})}))}),A=n(70),C=n.n(A),N=n(196),S=n.n(N),B=n(24),R=n.n(B),W={isUserLoggedIn:!1,user:null},J=function(){return function(t,e){b.signOut()}};var P=Object(f.b)(function(t){return{}},function(t){return{logOut:function(){return t(J())}}})(function(t){return r.a.createElement("div",null,r.a.createElement(C.a,{title:"TO DO! ",onLeftIconButtonClick:t.open,iconStyleLeft:{display:"none"},iconElementRight:r.a.createElement(R.a,null,r.a.createElement(S.a,null)),onRightIconButtonClick:t.logOut}))}),X=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(U,null))}}]),e}(a.Component),z=n(36),H=n(197),V=Object(z.c)({auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"auth/LOGGED_IN":return Object(m.a)({},t,{isUserLoggedIn:!0,user:e.user});case"auth/LOGGED_OUT":return Object(m.a)({},t,{isUserLoggedIn:!1,user:null});default:return t}},todolist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:return Object(m.a)({},t,{text:"",tasks:t.tasks.concat({text:t.text})});case I:return{text:"",tasks:e.tasks};case j:return Object(m.a)({},t,{tasks:t.tasks.filter(function(t,n){return n!==e.index})});case"todolist/NEW_TEXT":return Object(m.a)({},t,{text:e.text});default:return t}}}),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d,K=Object(z.e)(V,F(Object(z.a)(H.a)));K.dispatch(w()),K.dispatch(function(t,e){b.onAuthStateChanged(function(e){e?(t(function(t){return{type:"auth/LOGGED_IN",user:t}}(e)),t(function(t,e){var n=e().auth.user.uid;v.ref("/users/".concat(n,"/loginsLogs")).push({timestamp:Date.now()})}),t(w())):t({type:"auth/LOGGED_OUT"})})});var M=n(71),Q=n.n(M),q=n(72),Y=n.n(q),Z=function(t){return r.a.createElement("div",null,r.a.createElement(Y.a,{label:"Log in by Google!",secondary:!0,onClick:t.onLogInHandler}))},$=Object(f.b)(function(t){return{isUserLoggedIn:t.auth.isUserLoggedIn}},function(t){return{logInByGoogle:function(){return t(function(t,e){b.signInWithPopup(y)})}}})(function(t){return r.a.createElement("div",null,t.isUserLoggedIn?t.children:r.a.createElement(Z,{onLogInHandler:t.logInByGoogle}))});u.a.render(r.a.createElement(f.a,{store:K},r.a.createElement(Q.a,null,r.a.createElement($,null,r.a.createElement(X,null)))),document.getElementById("root"))}},[[201,2,1]]]);
//# sourceMappingURL=main.83001a90.chunk.js.map